
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_pyvista_examples\plot_0_grid.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_pyvista_examples_plot_0_grid.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_pyvista_examples_plot_0_grid.py:


Grid Based Mesh Generation
==========================

.. GENERATED FROM PYTHON SOURCE LINES 8-21

.. code-block:: python3

    import numpy as np
    from polymesh import grid, Grid, PolyData, CartesianFrame
    from polymesh.cells import H8, H27, Q9, Q4
    size = Lx, Ly, Lz = 800, 600, 100
    shape = nx, ny, nz = 8, 6, 2
    xbins = np.linspace(0, Lx, nx+1)
    ybins = np.linspace(0, Ly, ny+1)
    zbins = np.linspace(0, Lz, nz+1)
    bins = xbins, ybins, zbins
    coords, topo = grid(bins=bins, eshape='H8')
    pd = PolyData(coords=coords, topo=topo, celltype=H8)









.. GENERATED FROM PYTHON SOURCE LINES 22-23

The `PolyData` class delegates plotting-related jobs to `pyVista`. Call your objects `plot` method the same way you'd call a `pyVista` object:

.. GENERATED FROM PYTHON SOURCE LINES 25-28

.. code-block:: python3

    pd.plot(notebook=True, jupyter_backend='static', window_size = (600, 400))





.. image-sg:: /auto_pyvista_examples/images/sphx_glr_plot_0_grid_001.png
   :alt: plot 0 grid
   :srcset: /auto_pyvista_examples/images/sphx_glr_plot_0_grid_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    <PIL.Image.Image image mode=RGB size=600x400 at 0x1BFD7BCA040>




.. GENERATED FROM PYTHON SOURCE LINES 29-33

.. code-block:: python3

    coords, topo = grid(bins=bins, eshape='H27')
    pd = PolyData(coords=coords, topo=topo, celltype=H27)
    pd.plot(notebook=True, window_size = (600, 400))



.. rst-class:: sphx-glr-script-out

.. code-block:: pytb

    Traceback (most recent call last):
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\sphinx_gallery\scrapers.py", line 375, in save_figures
        rst = scraper(block, block_vars, gallery_conf)
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\utilities\sphinx_gallery.py", line 49, in __call__
        plotter.screenshot(fname)
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\plotting\plotting.py", line 4492, in screenshot
        return self._save_image(self.image, filename, return_img)
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\plotting\plotting.py", line 1453, in image
        self._check_rendered()
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\plotting\plotting.py", line 1426, in _check_rendered
        raise AttributeError(
    AttributeError: 
    This plotter has not yet been set up and rendered with ``show()``.
    Consider setting ``off_screen=True`` for off screen rendering.





.. GENERATED FROM PYTHON SOURCE LINES 34-39

.. code-block:: python3

    coords, topo = grid(bins=(xbins, ybins), eshape='Q4')
    frame = CartesianFrame(dim=3)
    pd = PolyData(coords=coords, topo=topo, celltype=Q4, frame=frame)
    pd.plot(notebook=True, window_size = (600, 400))


.. GENERATED FROM PYTHON SOURCE LINES 40-45

.. code-block:: python3

    coords, topo = grid(bins=(xbins, ybins), eshape='Q9')
    frame = CartesianFrame(dim=3)
    pd = PolyData(coords=coords, topo=topo, celltype=Q9, frame=frame)
    pd.plot(notebook=True, window_size = (600, 400))


.. GENERATED FROM PYTHON SOURCE LINES 46-47

## Voxelization

.. GENERATED FROM PYTHON SOURCE LINES 49-60

.. code-block:: python3

    n_angles = 60
    n_radii = 30
    min_radius = 5
    max_radius = 25
    n_z = 20
    h = 50
    angle=1

    shape = (min_radius, max_radius), angle, h
    size = n_radii, n_angles, n_z


.. GENERATED FROM PYTHON SOURCE LINES 61-66

.. code-block:: python3

    from polymesh.recipes import cylinder
    cyl = cylinder(shape, size, voxelize=True)
    cyl.plot(notebook=True, window_size=(800, 600))




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  13.887 seconds)

**Estimated memory usage:**  439 MB


.. _sphx_glr_download_auto_pyvista_examples_plot_0_grid.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_0_grid.py <plot_0_grid.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_0_grid.ipynb <plot_0_grid.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
