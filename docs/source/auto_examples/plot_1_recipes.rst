
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\plot_1_recipes.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_plot_1_recipes.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_1_recipes.py:


# Recipes for Mesh Generation

.. GENERATED FROM PYTHON SOURCE LINES 6-7

## Cylinder

.. GENERATED FROM PYTHON SOURCE LINES 9-11

.. code-block:: python3

    from polymesh.recipes import cylinder








.. GENERATED FROM PYTHON SOURCE LINES 12-24

.. code-block:: python3

    n_angles = 60
    n_radii = 30
    min_radius = 5
    max_radius = 25
    n_z = 20
    h = 50
    angle=1

    shape = (min_radius, max_radius), angle, h
    size = n_radii, n_angles, n_z









.. GENERATED FROM PYTHON SOURCE LINES 25-28

.. code-block:: python3

    cyl = cylinder(shape, size)
    cyl.plot(notebook=True, window_size=(800, 600))



.. rst-class:: sphx-glr-script-out

.. code-block:: pytb

    Traceback (most recent call last):
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\sphinx_gallery\scrapers.py", line 375, in save_figures
        rst = scraper(block, block_vars, gallery_conf)
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\utilities\sphinx_gallery.py", line 49, in __call__
        plotter.screenshot(fname)
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\plotting\plotting.py", line 4492, in screenshot
        return self._save_image(self.image, filename, return_img)
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\plotting\plotting.py", line 1453, in image
        self._check_rendered()
      File "f:\github\dewloosh\polymesh\.venv\lib\site-packages\pyvista\plotting\plotting.py", line 1426, in _check_rendered
        raise AttributeError(
    AttributeError: 
    This plotter has not yet been set up and rendered with ``show()``.
    Consider setting ``off_screen=True`` for off screen rendering.





.. GENERATED FROM PYTHON SOURCE LINES 29-32

.. code-block:: python3

    cyl = cylinder(shape, size, regular=False)
    cyl.plot(notebook=True, window_size=(800, 600))


.. GENERATED FROM PYTHON SOURCE LINES 33-36

.. code-block:: python3

    cyl = cylinder(shape, size, voxelize=True)
    cyl.plot(notebook=True, window_size=(800, 600))


.. GENERATED FROM PYTHON SOURCE LINES 37-47

.. code-block:: python3

    from polymesh.topo.tr import H8_to_L2
    import numpy as np
    coords = cyl.coords()
    topo = cyl.topology()
    c = cyl.centers()[:, 2]
    cm = (c.min() + c.max())/2
    upper = np.where(c > cm)[0]
    lower = np.where(c <= cm)[0]
    coordsL2, topoL2 = H8_to_L2(coords, topo[upper])


.. GENERATED FROM PYTHON SOURCE LINES 48-54

.. code-block:: python3

    from polymesh import PolyData
    from polymesh.cells import L2, H8
    pd = PolyData(coords=coordsL2)
    pd['beams', 'L2'] = PolyData(topo=topoL2, celltype=L2)
    pd['body', 'H8'] = PolyData(topo=topo[lower], celltype=H8)


.. GENERATED FROM PYTHON SOURCE LINES 55-57

.. code-block:: python3

    pd.plot(notebook=True, window_size=(800, 600))


.. GENERATED FROM PYTHON SOURCE LINES 58-60

.. code-block:: python3

    pd.topology()


.. GENERATED FROM PYTHON SOURCE LINES 61-63

.. code-block:: python3

    pd.topology()[0, :]


.. GENERATED FROM PYTHON SOURCE LINES 64-66

.. code-block:: python3

    pd.topology()[-1, :]


.. GENERATED FROM PYTHON SOURCE LINES 67-69

.. code-block:: python3

    pd.topology()[-1, :].to_numpy()


.. GENERATED FROM PYTHON SOURCE LINES 70-72

.. code-block:: python3

    from polymesh.pointdata import PointData


.. GENERATED FROM PYTHON SOURCE LINES 73-75

.. code-block:: python3

    pd2 = PointData(coords=pd.coords(), z=pd.coords()[:, :2])


.. GENERATED FROM PYTHON SOURCE LINES 76-79

.. code-block:: python3

    pd2.z.to_numpy()




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  10.814 seconds)

**Estimated memory usage:**  454 MB


.. _sphx_glr_download_auto_examples_plot_1_recipes.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_1_recipes.py <plot_1_recipes.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_1_recipes.ipynb <plot_1_recipes.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
